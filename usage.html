

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Python API Usage Guide &mdash; NML Hand Exoskeleton 0.0.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=e3a6060d"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Frequently Asked Questions (FAQ)" href="faq.html" />
    <link rel="prev" title="Quickstart Guide" href="quickstart.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            NML Hand Exoskeleton
              <img src="_static/LabLogoRedSquare.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guides</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Python API Usage Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-an-instance">Creating an Instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="#common-commands">Common Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="#additional-notes">Additional Notes</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions (FAQ)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cpp_api.html">C++ API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_api.html">Python API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NML Hand Exoskeleton</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Python API Usage Guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/usage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="python-api-usage-guide">
<h1>Python API Usage Guide<a class="headerlink" href="#python-api-usage-guide" title="Link to this heading"></a></h1>
<p>This section shows how to use the Python API to communicate with the NML Hand Exoskeleton. Each function sends a specific serial command to the device, which is also documented here for transparency and debugging.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h2>
<p>Install the package locally using:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/Neuro-Mechatronics-Interfaces/NML_Hand_Exo.git
<span class="nb">cd</span><span class="w"> </span>NML_Hand_Exo
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.
</pre></div>
</div>
</section>
<section id="creating-an-instance">
<h2>Creating an Instance<a class="headerlink" href="#creating-an-instance" title="Link to this heading"></a></h2>
<p>To connect to the device:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">hand_exo</span><span class="w"> </span><span class="kn">import</span> <span class="n">HandExo</span>

<span class="n">exo</span> <span class="o">=</span> <span class="n">HandExo</span><span class="p">(</span><span class="n">port</span><span class="o">=</span><span class="s1">&#39;COM3&#39;</span><span class="p">,</span> <span class="n">baudrate</span><span class="o">=</span><span class="mi">57600</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="common-commands">
<h2>Common Commands<a class="headerlink" href="#common-commands" title="Link to this heading"></a></h2>
<p>Below is a list of common Python methods and the serial commands they send:</p>
<p>First lets see if we can see the motor LED turn on:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">exo</span><span class="o">.</span><span class="n">enable_led</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># Sends &quot;led:1:on&quot;</span>
</pre></div>
</div>
<p>If this works the LED on that motor will now be on. Let’s turn it off and enable the motor torque for the motor with the ID 1:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">exo</span><span class="o">.</span><span class="n">disable_led</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>   <span class="c1"># Sends &quot;led:1:off&quot;</span>
<span class="n">exo</span><span class="o">.</span><span class="n">enable_torque</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># Sends &quot;enable:1&quot;</span>
</pre></div>
</div>
<p>You should feel the motor engage. If you want to disable the torque, you can do so with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">exo</span><span class="o">.</span><span class="n">disable_torque</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># Sends &quot;disable:1&quot;</span>
</pre></div>
</div>
<p>Let’s keep the torque enabled for now. We can get the motor’s current position relatve to the zero position offset (different from the absolute position):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">angle</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">get_motor_angle</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># Sends &quot;get_angle:1&quot;</span>
</pre></div>
</div>
<p>To reset the motor position to its zero position, you can use the home command:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">exo</span><span class="o">.</span><span class="n">home</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># Sends &quot;home:1&quot;,</span>

<span class="c1"># You can also reset all motor positions</span>
<span class="c1"># exo.home(&#39;all&#39;)</span>
</pre></div>
</div>
<p>To set the motor to a specific angle, you can use:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">exo</span><span class="o">.</span><span class="n">set_motor_angle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">45</span><span class="p">)</span> <span class="c1"># Sends &quot;set_angle:1:45&quot; # Counter-Clockwise</span>
<span class="n">exo</span><span class="o">.</span><span class="n">set_motor_angle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">45</span><span class="p">)</span> <span class="c1"># Sends &quot;set_angle:1:-45&quot; # Clockwise</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>The angle is relative to the zero position offset, not the absolute position.</p></li>
<li><p>There are joint limits configured in the Arduino code that will prevent the angle commands from moving past these limits.</p></li>
</ul>
</div>
<p>The zero position for every motor configured on the microcontroller is stored in the firmware. You can see what the current value is with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">zero_position</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">get_zero</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># Sends &quot;get_zero:1&quot;</span>
</pre></div>
</div>
<p>If you want to set the current position as the new zero position, you can use:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">exo</span><span class="o">.</span><span class="n">set_zero</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># Sends &quot;set_zero:1&quot;</span>
</pre></div>
</div>
<p>Now the home command will set the motor to this new zero position.</p>
<p>If you want to see the absolute position of the motor, you can use:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">abs_angle</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">get_absolute_motor_angle</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># Sends &quot;get_absangle:1&quot;</span>
</pre></div>
</div>
<p>Setting the absolute position of the motor is possible too:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">exo</span><span class="o">.</span><span class="n">set_absolute_motor_angle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span> <span class="c1"># Sends &quot;set_absangle:1:90&quot;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul class="simple">
<li><p>Setting the absolute angle will not change the zero position offset. Please be careful when using this command after installing motors to prevent damage.</p></li>
</ul>
</div>
<p>All motors have a default velocity and acceleration component to them</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vel</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">get_motor_velocity</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Sends &quot;get_vel:1&quot;</span>
<span class="n">accel</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">get_motor_acceleration</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Sends &quot;get_accel:1&quot;</span>
</pre></div>
</div>
<p>We can adjust the speed and acceleration of the motors. Let’s increase both by 20%</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vel</span> <span class="o">=</span> <span class="n">vel</span> <span class="o">+</span> <span class="mf">0.2</span><span class="o">*</span><span class="n">vel</span>
<span class="n">accel</span> <span class="o">=</span> <span class="n">accel</span> <span class="o">+</span> <span class="mf">0.2</span><span class="o">*</span><span class="n">accel</span>
<span class="n">exo</span><span class="o">.</span><span class="n">set_motor_velocity</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">vel</span><span class="p">)</span>  <span class="c1"># Sends &quot;set_vel:1:{vel}&quot;</span>
<span class="n">exo</span><span class="o">.</span><span class="n">set_motor_acceleration</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">accel</span><span class="p">)</span>  <span class="c1"># Sends &quot;set_accel:1:{accel}&quot;</span>
</pre></div>
</div>
<p>The motors can also provide torque and current readings. You can retrieve these values with:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">torque</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">get_motor_torque</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">current</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">get_motor_current</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>If the motor reaches its stall torque and disables itself, the LED will begin flashing every second. The only way to continue using the motor is to reboot it. You can do this with:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">exo</span><span class="o">.</span><span class="n">reboot_motor</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Sends &quot;reboot:1&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>All the information regarding the status info of the exo can be retrieved with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">info</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>  <span class="c1"># Sends &quot;info&quot;</span>
</pre></div>
</div>
<p>This returns a dictionary with the following keys:</p>
<ul class="simple">
<li><p><cite>version</cite>: Firmware version</p></li>
<li><p><cite>n_motors</cite>: Number of motors connected</p></li>
<li><p><cite>motor_xx</cite>: Dictionary with motor information, created for each motor ID</p>
<ul>
<li><p><cite>id</cite>: Motor ID</p></li>
<li><p><cite>angle</cite>: Current angle of the motor</p></li>
<li><p><cite>zero</cite>: Zero position offset</p></li>
<li><p><cite>velocity</cite>: Current velocity setting</p></li>
<li><p><cite>acceleration</cite>: Current acceleration setting</p></li>
<li><p><cite>torque</cite>: Current torque reading</p></li>
<li><p><cite>current</cite>: Current current reading</p></li>
</ul>
</li>
</ul>
<p>Anytime you need to know which commands are available you can use the help command:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">help_text</span> <span class="o">=</span> <span class="n">exo</span><span class="o">.</span><span class="n">help</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
<p>This returns a string with all available commands and their descriptions.</p>
<p>When you’re all done with the exoskeleton, you can close the connection:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">exo</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># No command is sent to the device.</span>
</pre></div>
</div>
</div></blockquote>
<p>—</p>
</section>
<section id="additional-notes">
<h2>Additional Notes<a class="headerlink" href="#additional-notes" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>The <cite>verbose=True</cite> option prints sent and received commands to the terminal with debugging output. Enable this upon initialization or by sending the <cite>debug:on</cite> command.</p></li>
<li><p>The <cite>port</cite> parameter should be set to the correct serial port for your device (e.g., ‘COM3’ on Windows, ‘/dev/ttyUSB0’ on Linux).</p></li>
<li><p>The <cite>baudrate</cite> parameter should match the baud rate set in the firmware (default is 57600).</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="quickstart.html" class="btn btn-neutral float-left" title="Quickstart Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="faq.html" class="btn btn-neutral float-right" title="Frequently Asked Questions (FAQ)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Neuromechatronics Lab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>